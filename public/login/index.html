<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
   
    <header class="site-header">
        <h1>Welcome to the login page</h1>
    </header>


    <div class="login-container">
        <div class="error-message" hidden="">
            Error: Username, password, or OTP is incorrect
        </div>
        <h2>ðŸ”’Login</h2>
        <form action="/login" method="post">
            <div class="input-group">
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" required="">
            </div>
            <div class="input-group">
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required="">
            </div>
            <div class="input-group">
                <label for="otp">Authenticator Code:</label>
                <input type="text" id="otp" name="token" pattern="\d{6}" title="Enter a 6-digit OTP" required="">
            </div>

            <hr>
            <div class="btn-group">
                <button type="submit" class="login-btn">Log In</button>
                <button type="reset" class="clear-btn">Clear</button>
                <a href="/signup"><button type="button" class="signup-btn">Sign Up</button></a>
            </div>

            <div style="display: flex; align-items: center; margin: 10px 0;">
                <hr style="flex-grow: 1; border: none; border-top: 1px solid rgba(128, 128, 128, 0.5);">
                <span style="margin: 0 10px; color: rgba(128, 128, 128, 0.8); font-weight: bold;">OR</span>
                <hr style="flex-grow: 1; border: none; border-top: 1px solid rgba(128, 128, 128, 0.5);">
            </div>

            <button type="button" class="google-login-btn" onclick="window.location.href='/auth/google'">
                <img src="./google-logo-png.png" alt="Google Logo" class="google-logo">
                Continue with Google
            </button>

            <button type="button" class="passkey-btn"
    style="margin-top: 10px; background: linear-gradient(120deg, #0e0339, #5e00f6); color: white; border: 1px solid #555; padding: 10px 15px; border-radius: 5px; cursor: pointer; width: 100%; font-weight: bold; font-size: 1.2rem;"
    onclick="window.location.href='/login/passkey.html'">ðŸ”‘ Login with Passkey</button>
        </form>
    </div>

    <script>
        // Get the error from the URL
        const urlParams = new URLSearchParams(window.location.search);
        const error = urlParams.get('error');
        if (error) {
            document.querySelector('.error-message').style.display = 'block';
        }
    </script>


</body>

</html>